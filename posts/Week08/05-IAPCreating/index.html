<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week08/05-IAPCreating"/><meta name="twitter:url" content="https://hococoder.com/posts/Week08/05-IAPCreating"/><meta name="og:url" content="https://hococoder.com/posts/Week08/05-IAPCreating"/><title>Week 8 - Creating In App Purchases | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 8 - Creating In App Purchases | Mobile Application Development for the iOS Platform"/><meta name="og:title" content="Week 8 - Creating In App Purchases | Mobile Application Development for the iOS Platform"/><meta name="description" content="A description of my first post."/><meta name="twitter:description" content="A description of my first post."/><meta name="og:description" content="A description of my first post."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><header><div class="wrapper"><a class="site-name" href="/">Mobile Application Development for the iOS Platform</a><nav><ul><li><a href="/epp_605_687_spring_2024/posts/Intro/About Me">AboutMe</a></li><li><a href="/epp_605_687_spring_2024/posts/Intro/Example App">ExampleApp</a></li><li><a href="/epp_605_687_spring_2024/posts/Week00/00-Week00Overview">Week0</a></li><li><a href="/epp_605_687_spring_2024/posts/Week01/00-Week01Overview">Week1</a></li><li><a href="/epp_605_687_spring_2024/posts/Week02/00-Week02Overview">Week2</a></li><li><a href="/epp_605_687_spring_2024/posts/Week03/00-Week03Overview">Week3</a></li><li><a href="/epp_605_687_spring_2024/posts/Week04/00-Week04Overview">Week4</a></li><li><a href="/epp_605_687_spring_2024/posts/Week05/00-Week05Overview">Week5</a></li><li><a href="/epp_605_687_spring_2024/posts/Week06/00-Week06Overview">Week6</a></li><li><a href="/epp_605_687_spring_2024/posts/Week07/00-Week07Overview">Week7</a></li><li><a href="/epp_605_687_spring_2024/posts/Week08/00-Week08Overview">Week8</a></li><li><a href="/epp_605_687_spring_2024/posts/Week09/00-Week09Overview">Week9</a></li><li><a href="/epp_605_687_spring_2024/posts/Week10/00-Week10Overview">Week10</a></li><li><a href="/epp_605_687_spring_2024/posts/Week11/00-Week11Overview">Week11</a></li><li><a href="/epp_605_687_spring_2024/posts/Week12/00-Week12Overview">Week12</a></li><li><a href="/epp_605_687_spring_2024/posts/Week13/00-Week13Overview">Week13</a></li></ul></nav></div></header><div class="wrapper"><h1>Week 8 - Creating In App Purchases</h1><p style="float: left">Previous:  <A HREF="../04-IAPEnabling/index.html">Enabling In App Purchases</A></p><p style="float: right">Next:  <A HREF="../06-IAPItemsList/index.html" class="nextModule">Getting a List of In App Purchases</A></p><BR/><BR/><h2>Example - Creating In App Purchases</h2><center> <iframe width="1280" height="720" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.81.2/mwEmbedFrame.php/p/1458241/uiconf_id/14487351/entry_id/1_r1tf9dpr?wid=_1458241&iframeembed=true&playerId=kaltura_player&entry_id=1_r1tf9dpr&flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[mediaProxy.preferedFlavorBR]=2500&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;flashvars[EmbedPlayer.NotPlayableDownloadLink]=true;&wid=1_abkvs1gz"allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" sandbox="allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation" frameborder="0" title="Kaltura Player">
  </iframe>
</center><center>
<p class="info">
Note: This is an older video using iTunes Connect, but the main functionality is the same in App Store Connect.  The screenshots below show recent screens in App Store Connect.
</p>
</center><p>App Store Connect allows you to setup metadata and features for your app. I've got some information for the EPExampleApp; our information here is all pretty bogus, since this app will never see the light of day. Once you’ve created your app, you can see some other data about it in the App Information screen.</p><img src="../../../week09/IAPMainInfo.png#centerResizedSlide" alt="IAP Main Info"/><p>We want to enable the In App Purchases feature, so go to "Manage" under the In App Purchases section. Hit the plus button to add a new one, and you’re presented with a selection dialog for the type of IAP you want. Here, we’re making a IAP to disable ads in the app, so it’s definitely not a consumable - we can’t purchase it and reuse it again - and it’s not a subscription, so we’re left with a non-consumable. Select that, and select Create.</p><img src="../../../week09/IAPType.png#centerResizedSlide" alt="IAP Type"/><p>Give it a reference name of DisableAdsIAP, and a product ID that is our bundle ID with the DisableAdsIAP tacked on the end (this should be "edu.jhu.ep.steele.josh.EPExampleApp.DisableAdsIAP"). Set the price to 99 cents. We don’t have any content to host for this IAP so we’ll skip the next section.</p><p class="info">
NOTE: this id is different from that in the video; I used a different project in the demo instead of the EPExampleApp.
</p><p>Under the localizations, we want to give translations of our app name and description in the languages our app will support. Fill in a display name and subscription for English - we won’t be adding any other languages here. Skip the optional App Store promotion section, and under review information, leave info for the App Store reviewer. They need a screenshot of your app showing the purchase dialog - we don’t have that created yet, so I’m going to just put a placeholder from my desktop for now - and let the reviewer know that this IAP disables ads in our app. Make sure you have all of that information added, and hit Save.<br><br><img src="../../../week09/IAPLocalization.png#centerResizedSlide" alt="IAP Localization"/></p><p>Once saved, “Ready to Submit” appears under the In App Purchases header. If a message like “Missing Metadata” appears, be sure to check that you’ve entered everything below that we just talked about. that’s all you need to do in order to get metadata about your In App Purchase in iTunes Connect. Make a note of that product ID, we’ll need it in the next video, where I’ll show you how to get a product list from the store.</p><p class="new"> Below is some new information on using StoreKit Configuration Files</p><h2>Using StoreKit Configuration Files</h2><p>In iOS 14, the need to have things setup on App Store Connect is something you can defer until you are ready to test for real, instead relying on a StoreKit Configuration File to simulate the information your app would find on App Store Connect. Here's how you set that up:</p><p>Add a new file to your project, and choose "StoreKit Configuration File":</p><img src="../../../week08/IAPStoreKitConfigFile.png#centerResizedSlide" alt="IAPConfig"/><p>In that file, add a new type of In App Purchase - for our purposes, we'll choose "Non-Consumable" like in the example above.<br><br><img src="../../../week08/IAPStoreKitConfigFileType.png#centerResizedSlide" alt="IAP Config Type"/></p><p>Give the IAP a reference name, a price, a localized name and description for the languages you support, and set the identifier like we did above - "edu.jhu.ep.steele.josh.EPExampleApp.DisableAdsIAP", and choose whether you want to support Family Sharing:</p><img src="../../../week08/IAPStoreKitConfigFileDetails.png#centerResizedSlide" alt="IAP Config Details"/><p>Finally, in the launch scheme for your app, go into the settings and set that file as your StoreKit Config file.</p><img src="../../../week08/IAPStoreKitConfigFileScheme1.png#centerResizedSlide" alt="IAP Scheme Settings"/><img src="../../../week08/IAPStoreKitConfigFileScheme2.png#centerResizedSlide" alt="IAP Scheme Settings"/><p>That's it! The app will use this file when IAP purchases are attempted.</p><p style="float: left">Previous:  <A HREF="../04-IAPEnabling/index.html">Enabling In App Purchases</A></p><p style="float: right">Next:  <A HREF="../06-IAPItemsList/index.html" class="nextModule">Getting a List of In App Purchases</A></p></div><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2023-2024 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated January 21, 2024 at 1:48 PM</p><p><a href="https://mastodon.social/@hococoder" target="_blank">My Mastodon</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://canvas.jhu.edu" target="_blank">JHU Canvas</a></p></footer></body></html>