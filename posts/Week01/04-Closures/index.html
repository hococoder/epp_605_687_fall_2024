<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week01/04-Closures"/><meta name="twitter:url" content="https://hococoder.com/posts/Week01/04-Closures"/><meta name="og:url" content="https://hococoder.com/posts/Week01/04-Closures"/><title>Week 1 - Closures | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 1 - Closures | Mobile Application Development for the iOS Platform"/><meta name="og:title" content="Week 1 - Closures | Mobile Application Development for the iOS Platform"/><meta name="description" content="A description of my first post."/><meta name="twitter:description" content="A description of my first post."/><meta name="og:description" content="A description of my first post."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><header><div class="wrapper"><a class="site-name" href="/">Mobile Application Development for the iOS Platform</a><nav><ul><li><a href="/epp_605_687_spring_2024/posts/Intro/About Me">AboutMe</a></li><li><a href="/epp_605_687_spring_2024/posts/Intro/Example App">ExampleApp</a></li><li><a href="/epp_605_687_spring_2024/posts/Week00/00-Week00Overview">Week0</a></li><li><a href="/epp_605_687_spring_2024/posts/Week01/00-Week01Overview">Week1</a></li><li><a href="/epp_605_687_spring_2024/posts/Week02/00-Week02Overview">Week2</a></li><li><a href="/epp_605_687_spring_2024/posts/Week03/00-Week03Overview">Week3</a></li><li><a href="/epp_605_687_spring_2024/posts/Week04/00-Week04Overview">Week4</a></li><li><a href="/epp_605_687_spring_2024/posts/Week05/00-Week05Overview">Week5</a></li><li><a href="/epp_605_687_spring_2024/posts/Week06/00-Week06Overview">Week6</a></li><li><a href="/epp_605_687_spring_2024/posts/Week07/00-Week07Overview">Week7</a></li><li><a href="/epp_605_687_spring_2024/posts/Week08/00-Week08Overview">Week8</a></li><li><a href="/epp_605_687_spring_2024/posts/Week09/00-Week09Overview">Week9</a></li><li><a href="/epp_605_687_spring_2024/posts/Week10/00-Week10Overview">Week10</a></li><li><a href="/epp_605_687_spring_2024/posts/Week11/00-Week11Overview">Week11</a></li><li><a href="/epp_605_687_spring_2024/posts/Week12/00-Week12Overview">Week12</a></li><li><a href="/epp_605_687_spring_2024/posts/Week13/00-Week13Overview">Week13</a></li></ul></nav></div></header><div class="wrapper"><h1>Week 1 - Closures</h1><p style="float: left">Previous:  <A HREF="../03-Functions/index.html">Functions</A></p><p style="float: right">Next:  <A HREF="../05-Generics/index.html" class="nextModule">Generics</A></p><BR/><BR/><h2>Closures - Functions as First Class Citizens</h2><center> <iframe width="1280" height="720" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.81.2/mwEmbedFrame.php/p/1458241/uiconf_id/14487351/entry_id/1_hjq5nigz?wid=_1458241&iframeembed=true&playerId=kaltura_player&entry_id=1_hjq5nigz&flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[mediaProxy.preferedFlavorBR]=2500&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;flashvars[EmbedPlayer.NotPlayableDownloadLink]=true;&wid=1_abkvs1gz"allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" sandbox="allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation" frameborder="0" title="Kaltura Player">
  </iframe>
</center><p>Another very import concept to learn in Swift is that of closures. In Swift, functions are treated as first class citizens - which means they can be assigned to properties, passed into functions, returned from functions, and so on. The most common place you'll see closures in iOS paradigms is in places where you might see inline, anonymous classes in Java.<br><br>As stated in the Swift Programming Language guide, Functions are just a special case of a closure - blocks of code that can be called later. Closures maintain access to the variables and other functions that were available in the scope where the closure was created, even if it used elsewhere. This means that you can pass a closure as a parameters into a function, and it will maintain the sense of scope it has when it is called later.</p><p>Closures can be written with the following format:</p><pre><code>{ (param: <span class="type">Type</span>, param2: <span class="type">Type</span>....)  -&gt; <span class="type">Type</span> <span class="keyword">in</span> 

  <span class="comment">//closure body here</span>
}
</code></pre><p>So what exactly does that mean? The first part within the curly braces - <code>(param: Type, param2: Type....)</code> - is the parameter list for the closure, while <code> -&gt; Type</code> is the return type of the closure (if the closure return type is <code>Void</code> this part can be omitted). The <code>in</code> keyword separates the function signature from the body of the closure.</p><p>Here's a really simple example. Let's say I have a function that takes in 2 numbers, and some function, and the signature looks like this:</p><pre><code><span class="keyword">func</span> performMath(value1: <span class="type">Double</span>, value2: <span class="type">Double</span>, mathFunction:(<span class="type">Double</span>, <span class="type">Double</span>) -&gt; <span class="type">Double</span>) -&gt; <span class="type">Double</span>
</code></pre><p>This means the function <code>performMath</code> takes in 2 <code>Double</code>s as well as another function (with the function argument <code>mathFunction</code>) that takes in 2 <code>Double</code>s and returns a <code>Double</code>. This can be seen in its signature:</p><pre><code>(<span class="type">Double</span>, <span class="type">Double</span>) -&gt; <span class="type">Double</span>
</code></pre><p>So, this function could do ANYTHING. The <code>performMath</code> function really doesn't care. It is just going to take it in, and eventually call it. Let's flesh out a few potential, very basic, functions, and then use them in performMath</p><pre><code><span class="keyword">func</span> subtract(value1: <span class="type">Double</span>, value2: <span class="type">Double</span>) -&gt; <span class="type">Double</span>
{
  <span class="keyword">return</span> value1 - value2
}

<span class="keyword">func</span> add(value1: <span class="type">Double</span>, value2: <span class="type">Double</span>) -&gt; <span class="type">Double</span>
{
  <span class="keyword">return</span> value1 + value2
}

<span class="keyword">func</span> performMath(value1: <span class="type">Double</span>, value2: <span class="type">Double</span>, mathFunction:(<span class="type">Double</span>, <span class="type">Double</span>) -&gt; <span class="type">Double</span>) -&gt; <span class="type">Double</span>
{
  <span class="keyword">return</span> <span class="call">mathFunction</span>(value1, value2)
}

<span class="call">performMath</span>(value1: <span class="number">2</span>, value2: <span class="number">3</span>, mathFunction: subtract)   <span class="comment">//returns -1</span>
<span class="call">performMath</span>(value1: <span class="number">2</span>, value2: <span class="number">3</span>, mathFunction: add)        <span class="comment">//returns 5</span>
</code></pre><p>As you can see, inside the body of performMath, mathFunction is called just like any other function, except that it has been passed in as an argument to performMath. It still takes 2 Doubles and returns 1. The exactly functionality though is based on what exactly was the function that got passed in, so it can vary each time it is called (if needed).</p><h2>Trailing Closure Syntax</h2><p>In the previous example, we passed in the function name itself into the <code>performMath</code> function, since it satisfied the required function signature. What if we wanted to define the closure inline?</p><p>When a function takes in a closure as its final argument, like the performMath method above, we can use a special type of syntax to declare that closure inline. For example, we could do</p><pre><code><span class="call">peformMath</span>(value1: <span class="number">2</span>, value2: <span class="number">3</span>) { (value1, value2) <span class="keyword">in</span>

  value1/value2

}
</code></pre><p>Here, we've shifted the closing parenthesis to after the second argument and appended a closure - denoted by the curly braces - onto the end of the method call. Closures like this are typically spread over multiple lines to aid in readability, since typically they are more complex than the one-line we are showing here.</p><p>After the curly brace is the argument list <code>(value1, value2)</code> for the closure followed by the <code>in</code> keyword. Anything after this is the body of the closure.</p><p>Another thing to note here is that there is no return statement in the closure body - the compiler is smart enough to know that since the closure returns a <code>Double</code> (thanks to the signature of <code>performMath</code>, and there are no other lines of code in the body, it will implicitly return the result of that line of code (see "Omitted Return Keywords" in the "Functions" module). If you run the playground at this point, you see the result of 0.6666, or 2/3, since we're doing division in the closure body.</p><p style="float: left">Previous:  <A HREF="../03-Functions/index.html">Functions</A></p><p style="float: right">Next:  <A HREF="../05-Generics/index.html" class="nextModule">Generics</A></p></div><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2023-2024 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated January 21, 2024 at 1:48 PM</p><p><a href="https://mastodon.social/@hococoder" target="_blank">My Mastodon</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://canvas.jhu.edu" target="_blank">JHU Canvas</a></p></footer></body></html>