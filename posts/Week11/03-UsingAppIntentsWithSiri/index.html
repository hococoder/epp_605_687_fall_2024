<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week11/03-UsingAppIntentsWithSiri"/><meta name="twitter:url" content="https://hococoder.com/posts/Week11/03-UsingAppIntentsWithSiri"/><meta name="og:url" content="https://hococoder.com/posts/Week11/03-UsingAppIntentsWithSiri"/><title>Week 11 - Using App Intents with Siri | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 11 - Using App Intents with Siri | Mobile Application Development for the iOS Platform"/><meta name="og:title" content="Week 11 - Using App Intents with Siri | Mobile Application Development for the iOS Platform"/><meta name="description" content="Engineering Program for Professionals - 605.687 - 2024-2025 Academic Year"/><meta name="twitter:description" content="Engineering Program for Professionals - 605.687 - 2024-2025 Academic Year"/><meta name="og:description" content="Engineering Program for Professionals - 605.687 - 2024-2025 Academic Year"/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><script src="../../../../jquery-3.7.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><div class="layout"><div class="header"><div class="headerLayout"><div class="title">Mobile Application Development for the iOS Platform</div><div class="subtitle">Engineering Program for Professionals - 605.687 - 2024-2025 Academic Year</div><div class="weeklayout"><a class="grow1" href="/epp_605_687_fall_2024/posts/Intro/About Me">About Me</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Intro/Example App">Example App</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week00/00-Week00Overview">Week 0</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week01/00-Week01Overview">Week 1</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week02/00-Week02Overview">Week 2</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week03/00-Week03Overview">Week 3</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week04/00-Week04Overview">Week 4</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week05/00-Week05Overview">Week 5</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week06/00-Week06Overview">Week 6</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week07/00-Week07Overview">Week 7</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week08/00-Week08Overview">Week 8</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week09/00-Week09Overview">Week 9</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week10/00-Week10Overview">Week 10</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week11/00-Week11Overview">Week 11</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week12/00-Week12Overview">Week 12</a><a class="grow1" href="/epp_605_687_fall_2024/posts/Week13/00-Week13Overview">Week 13</a></div></div></div><div class="wrapper"><h1>Week 11 - Using App Intents with Siri</h1><p style="float: left">Previous:  <A HREF="../../Week11/03-UsingAppIntentsWithSiri/index.html">Using App Intents with Siri</A></p><p style="float: right">Next:  <A HREF="../../Week11/00-Week11Overview/index.html">Week 11 Overview</A></p><BR/><BR/><div id="floater">
<h3><u>Page Contents</u></h3>
<ul><li><a href="#overview">Overview</a></li><li><a href="#siriSupportInShortcuts">Siri Support In Shortcuts</a></li><li><a href="#configuringSettings">Configuring Settings</a></li><li><a href="#siriIsStillNotGreatWithPronunciation">Siri is Still not Great with Pronunciation</a></li><li><a href="#runningYourShortcutWithYourVoice">Running your Shortcut with Your Voice</a></li><li><a href="#usingParameters">Using Parameters</a></li></ul></div><a name="overview"></a>
<h2>Overview</h2><p>Even though Siri - and especially Apple Intelligence - are new features with the App Intent framework, the ability to program Siri for use in your app has been around for a while. SiriKit is the framework that controlled this before, and as far as I can tell a lot of the features in that framework have been brought over into App Intents. Let's take a look to see what is involved in getting Siri in your app.<br><br>## Siri Support In Shortcuts</p><p>If you were observant, in the Shortcuts module earlier, you saw that the shortcut has a <code>phrases</code> property.<br><br><code></code>` AppShortcut( intent: GetLessonDetails(), phrases: [ //Siri phrases go here ], shortTitle: "Get Details", systemImageName: "cloud.rainbow.half", parameterPresentation: ParameterPresentation( for: .$toDoItemToGet, summary: Summary("Get (.$lessonToGet) details")) { OptionsCollection(LessonEntityQuery(), title: "All Lessons", systemImageName: "cloud.rainbow.half") } )</p><pre><code>

<span class="type">Those</span> phrases can be either parameter-less (e.<span class="property">g</span>. <span class="string">"Show my favorite lessons in EP Example App"</span>) or include parameters (e.<span class="property">g</span>. <span class="string">"Show details for lesson 11 in EP Example App"</span>).  <span class="type">The</span> app name must always be included like this:

</code></pre><p>"Show my favorite lessons in (.applicationName)"</p><pre><code>or with parameters (e.<span class="property">g</span>. <span class="property">the</span> entity <span class="keyword">in</span> question) like this:

</code></pre><p>"Show details for (.$lessonToGet) in (.applicationName)"</p><pre><code>

<span class="keyword">where</span> `\(.applicationName)` will be replaced with the name of the app <span class="keyword">in</span> question, and <span class="type">Siri</span> will replace the entity you speak <span class="keyword">where</span> `(\.<span class="property">$lessonToGet</span>)`.

## <span class="type">Siri</span> <span class="keyword">is</span> <span class="type">Still</span> not <span class="type">Great</span> with <span class="type">Pronunciation

One</span> thing to keep <span class="keyword">in</span> mind - even with the improvements to <span class="type">Siri</span> <span class="keyword">in</span> iOS <span class="number">18</span>, <span class="type">Siri</span> isn't perfect with pronunciation. <span class="type">For</span> example, to <span class="keyword">get</span> it to recognize <span class="string">"ToDo App"</span> <span class="type">I</span> have to pronounced it <span class="string">"ToeDoe App"</span>.  <span class="type">So</span>.... your milage may vary. 

## <span class="type">Configuring Settings

There</span> are <span class="keyword">some</span> additional settings changes that can help you when working with <span class="type">Siri</span>.  <span class="type">In</span> the simulator (or your device) you can go to <span class="string">"Settings -&gt; Apple Intelligence &amp; Siri"</span> and select the bottom <span class="number">2</span> options: <span class="string">"Always show Siri captions"</span> and <span class="string">"Always show request"</span>.  <span class="type">This</span> last one lets you see what <span class="type">Siri</span> *thinks* you said. 

## <span class="type">Running</span> your <span class="type">Shortcut</span> with <span class="type">Your Voice

With</span> a phrase <span class="keyword">in</span> place, <span class="type">Siri</span> can trigger an intent, just like a shortcut from the shortcut app or the <span class="type">Action Button</span>. <span class="type">Technically</span>, the simulator can listen <span class="keyword">for</span> your voice via whatever microphone you are using, but <span class="type">I</span> find it to be very rough audio-wise.  <span class="type">If</span> you have a device, you can put your app on there and launch it with <span class="type">Siri</span> instead.  <span class="type">Here</span>'s an example of launching a shortcut <span class="keyword">in</span> the <span class="type">EP Example App</span>.

![<span class="type">Figure</span> <span class="number">1</span>](../../../week11/<span class="type">SiriShorcut1</span>.<span class="type">MOV#center</span>)

## <span class="type">Using Parameters

As</span> mentioned earlier, you can also use parameters with <span class="type">Siri</span>.  <span class="type">If</span> you <span class="keyword">try</span> to trigger an intent that doesn't have a parameter defined, <span class="type">Siri</span> <span class="keyword">is</span> smart enough to ask you <span class="keyword">for</span> one.

![<span class="type">Figure</span> <span class="number">1</span>](../../../week11/<span class="type">SiriShorcut2</span>.<span class="type">MOV#center</span>)

<span class="type">However</span>, you see <span class="keyword">in</span> the video that <span class="type">Siri</span> seems to have <span class="keyword">some</span> issues parsing the arguments, <span class="type">I</span> *think* when there <span class="keyword">is</span> a number involved.  <span class="type">These</span> improvements are definitely still <span class="keyword">in</span> the beta stage.  

<span class="type">But</span> you can also use a parameter <span class="keyword">if</span> your phrase includes one.  <span class="type">However</span> - it still looks like something seen <span class="keyword">in</span> the betas still exists <span class="keyword">in</span> the release code.  <span class="type">Siri</span> phrases with parameters still don't seem to work, at least not all the time.  <span class="type">Hopefully</span> this will be fixed (or made clearer how to implement) <span class="keyword">in</span> a future release of iOS.  <span class="type">Luckily</span> <span class="keyword">if</span> a prompt <span class="keyword">is required</span>, <span class="type">Siri</span> <span class="keyword">is</span> smart enough to ask, as shown above.  

&lt;p style=<span class="string">"previous-wk11c3-"</span>/&gt;
&lt;p style=<span class="string">"next-wk11c0-</span>
</code></pre></div><leftside><u><p>Week 11</p></u><div class="weekSection"><ul><li><div class="comment-container"><div class="tocItem"><a id="Week 11 Overview" href="../../Week11/00-Week11Overview/index.html">Week 11 Overview</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Using App Intents with Shortcuts" href="../../Week11/01-UsingAppIntentsWithShortcuts/index.html">Using App Intents with Shortcuts</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Using App Intents with Action Button" href="../../Week11/02-UsingAppIntentsWithActionButton/index.html">Using App Intents with Action Button</a></div><div class="chain chain-bottom"></div></div></li><li><div class="comment-container"><div class="chain chain-top"></div><div class="tocItem"><a id="Using App Intents with Siri" href="../../Week11/03-UsingAppIntentsWithSiri/index.html">Using App Intents with Siri</a></div></div></li></ul></div></leftside><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2023-2024 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated November 4, 2024 at 7:37 PM</p><p><a href="https://mastodon.social/@hococoder" target="_blank">My Mastodon</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://canvas.jhu.edu" target="_blank">JHU Canvas</a></p></footer></div></body></html>