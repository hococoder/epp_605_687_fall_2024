<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week10/03-SIWASignIn"/><meta name="twitter:url" content="https://hococoder.com/posts/Week10/03-SIWASignIn"/><meta name="og:url" content="https://hococoder.com/posts/Week10/03-SIWASignIn"/><title>Week 10 - Sign in With Apple - Signing In | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 10 - Sign in With Apple - Signing In | Mobile Application Development for the iOS Platform"/><meta name="og:title" content="Week 10 - Sign in With Apple - Signing In | Mobile Application Development for the iOS Platform"/><meta name="description" content="A description of my first post."/><meta name="twitter:description" content="A description of my first post."/><meta name="og:description" content="A description of my first post."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><header><div class="wrapper"><a class="site-name" href="/">Mobile Application Development for the iOS Platform</a><nav><ul><li><a href="/epp_605_687_spring_2024/posts/Intro/About Me">AboutMe</a></li><li><a href="/epp_605_687_spring_2024/posts/Intro/Example App">ExampleApp</a></li><li><a href="/epp_605_687_spring_2024/posts/Week00/00-Week00Overview">Week0</a></li><li><a href="/epp_605_687_spring_2024/posts/Week01/00-Week01Overview">Week1</a></li><li><a href="/epp_605_687_spring_2024/posts/Week02/00-Week02Overview">Week2</a></li><li><a href="/epp_605_687_spring_2024/posts/Week03/00-Week03Overview">Week3</a></li><li><a href="/epp_605_687_spring_2024/posts/Week04/00-Week04Overview">Week4</a></li><li><a href="/epp_605_687_spring_2024/posts/Week05/00-Week05Overview">Week5</a></li><li><a href="/epp_605_687_spring_2024/posts/Week06/00-Week06Overview">Week6</a></li><li><a href="/epp_605_687_spring_2024/posts/Week07/00-Week07Overview">Week7</a></li><li><a href="/epp_605_687_spring_2024/posts/Week08/00-Week08Overview">Week8</a></li><li><a href="/epp_605_687_spring_2024/posts/Week09/00-Week09Overview">Week9</a></li><li><a href="/epp_605_687_spring_2024/posts/Week10/00-Week10Overview">Week10</a></li><li><a href="/epp_605_687_spring_2024/posts/Week11/00-Week11Overview">Week11</a></li><li><a href="/epp_605_687_spring_2024/posts/Week12/00-Week12Overview">Week12</a></li><li><a href="/epp_605_687_spring_2024/posts/Week13/00-Week13Overview">Week13</a></li></ul></nav></div></header><div class="wrapper"><h1>Week 10 - Sign in With Apple - Signing In</h1><p style="float: left">Previous:  <A HREF="../02-SIWAButton/index.html">Sign in with Apple Button</A></p><p style="float: right">Next:  <A HREF="../04-SIWADelegateMethods/index.html" class="nextModule">Sign in With Apple Delegate Methods</A></p><BR/><BR/><center> <iframe width="1280" height="720" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.81.2/mwEmbedFrame.php/p/1458241/uiconf_id/14487351/entry_id/1_gqdogynm?wid=_1458241&iframeembed=true&playerId=kaltura_player&entry_id=1_gqdogynm&flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[mediaProxy.preferedFlavorBR]=2500&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;flashvars[EmbedPlayer.NotPlayableDownloadLink]=true;&wid=1_abkvs1gz"allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" sandbox="allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation" frameborder="0" title="Kaltura Player">
  </iframe>
</center><p>Since we have our Sign in with Apple button appearing in our SwiftUI view, it's time to define what happens when a user taps on that button. Add an onTapGesture modifier to the SwiftUI view and define that you want the "showAppleLogin" method to get invoked in response to a tap</p><pre><code>.<span class="call">onTapGesture</span>(perform: handleAuthorizationAppleIDButtonPress)
</code></pre><p>Below the definition of the body property, define the showAppleLogin method. Here's where we will really start to dive into the Sign in with Apple framework.</p><pre><code><span class="keyword">private func</span> showAppleLogin() {

  <span class="keyword">let</span> request = <span class="type">ASAuthorizationAppleIDProvider</span>().<span class="call">createRequest</span>()

  request.<span class="property">requestedScopes</span> = [.<span class="dotAccess">fullName</span>, .<span class="dotAccess">email</span>]

  <span class="keyword">let</span> authorizationController = <span class="type">ASAuthorizationController</span>(authorizationRequests: [request])
  authorizationController.<span class="property">delegate</span> = delegateHelper
  authorizationController.<span class="call">performRequests</span>()
}
</code></pre><p>Let's break this down:</p><ul><li>First, each sign in needs an <code>ASAuthorizationAppleIDRequest</code>. We can get a request object from an instance of the <code>ASAuthorizationAppleIDProvider</code> in the <code>AuthenticationServices</code> Framework. This request is a child of the <code>ASAuthorizationOpenIDRequest</code> - meaning you can use it to help login to other OpenID frameworks on the web - but the <code>ASAuthorizationAppleIDRequest</code> relies on your AppleID.</li><li>Next, we want to define the user data we <em>need</em> to know. Let me stress <em>need</em> here - it's not what data we want to know, but that data we need in order to identify the user in our systems. Sign in with Apple provides a unique ID for a user that you can store in your user database, so if you want to grab their name or email address in order to make a unique ID, <em>you don't have to</em>. Here, we're requesting both name and email from the user, and in a fully implemented system, those values would get added to our user database on our server.</li><li>Next, we'll use that request to initialize an array of requests to pass into a <code>ASAuthorizationController</code>, which will present the Sign in with Apple dialog.</li></ul><p>We need to get some delegate methods in place for the various workflows that Sign in with Apple provides, which we'll look at next.</p><p style="float: left">Previous:  <A HREF="../02-SIWAButton/index.html">Sign in with Apple Button</A></p><p style="float: right">Next:  <A HREF="../04-SIWADelegateMethods/index.html" class="nextModule">Sign in With Apple Delegate Methods</A></p></div><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2023-2024 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated January 21, 2024 at 1:48 PM</p><p><a href="https://mastodon.social/@hococoder" target="_blank">My Mastodon</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://canvas.jhu.edu" target="_blank">JHU Canvas</a></p></footer></body></html>