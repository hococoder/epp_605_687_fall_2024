<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="og:site_name" content="Mobile Application Development for the iOS Platform"/><link rel="canonical" href="https://hococoder.com/posts/Week07/02-AnimationsExample"/><meta name="twitter:url" content="https://hococoder.com/posts/Week07/02-AnimationsExample"/><meta name="og:url" content="https://hococoder.com/posts/Week07/02-AnimationsExample"/><title>Week 7 - Animations Example | Mobile Application Development for the iOS Platform</title><meta name="twitter:title" content="Week 7 - Animations Example | Mobile Application Development for the iOS Platform"/><meta name="og:title" content="Week 7 - Animations Example | Mobile Application Development for the iOS Platform"/><meta name="description" content="A description of my first post."/><meta name="twitter:description" content="A description of my first post."/><meta name="og:description" content="A description of my first post."/><meta name="twitter:card" content="summary"/><link rel="stylesheet" href="/styles.css" type="text/css"/><link rel="stylesheet" href="../../../styles.css" type="text/css"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><link rel="shortcut icon" href="/images/favicon.png" type="image/png"/><link rel="alternate" href="/feed.rss" type="application/rss+xml" title="Subscribe to Mobile Application Development for the iOS Platform"/></head><body><header><div class="wrapper"><a class="site-name" href="/">Mobile Application Development for the iOS Platform</a><nav><ul><li><a href="/epp_605_687_spring_2024/posts/Intro/About Me">AboutMe</a></li><li><a href="/epp_605_687_spring_2024/posts/Intro/Example App">ExampleApp</a></li><li><a href="/epp_605_687_spring_2024/posts/Week00/00-Week00Overview">Week0</a></li><li><a href="/epp_605_687_spring_2024/posts/Week01/00-Week01Overview">Week1</a></li><li><a href="/epp_605_687_spring_2024/posts/Week02/00-Week02Overview">Week2</a></li><li><a href="/epp_605_687_spring_2024/posts/Week03/00-Week03Overview">Week3</a></li><li><a href="/epp_605_687_spring_2024/posts/Week04/00-Week04Overview">Week4</a></li><li><a href="/epp_605_687_spring_2024/posts/Week05/00-Week05Overview">Week5</a></li><li><a href="/epp_605_687_spring_2024/posts/Week06/00-Week06Overview">Week6</a></li><li><a href="/epp_605_687_spring_2024/posts/Week07/00-Week07Overview">Week7</a></li><li><a href="/epp_605_687_spring_2024/posts/Week08/00-Week08Overview">Week8</a></li><li><a href="/epp_605_687_spring_2024/posts/Week09/00-Week09Overview">Week9</a></li><li><a href="/epp_605_687_spring_2024/posts/Week10/00-Week10Overview">Week10</a></li><li><a href="/epp_605_687_spring_2024/posts/Week11/00-Week11Overview">Week11</a></li><li><a href="/epp_605_687_spring_2024/posts/Week12/00-Week12Overview">Week12</a></li><li><a href="/epp_605_687_spring_2024/posts/Week13/00-Week13Overview">Week13</a></li></ul></nav></div></header><div class="wrapper"><h1>Week 7 - Animations Example</h1><p style="float: left">Previous:  <A HREF="../01-IntroductionToAnimations/index.html">Introduction to Animations</A></p><p style="float: right">Next:  <A HREF="../03-IntroductionToGestures/index.html" class="nextModule">Introduction to Gestures</A></p><BR/><BR/><center> <iframe width="1280" height="720" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.81.2/mwEmbedFrame.php/p/1458241/uiconf_id/14487351/entry_id/1_9lrvpzb0?wid=_1458241&iframeembed=true&playerId=kaltura_player&entry_id=1_9lrvpzb0&flashvars[localizationCode]=en&amp;flashvars[leadWithHTML5]=true&amp;flashvars[sideBarContainer.plugin]=true&amp;flashvars[sideBarContainer.position]=left&amp;flashvars[sideBarContainer.clickToClose]=true&amp;flashvars[chapters.plugin]=true&amp;flashvars[chapters.layout]=vertical&amp;flashvars[chapters.thumbnailRotator]=false&amp;flashvars[streamSelector.plugin]=true&amp;flashvars[EmbedPlayer.SpinnerTarget]=videoHolder&amp;flashvars[dualScreen.plugin]=true&amp;flashvars[mediaProxy.preferedFlavorBR]=2500&amp;flashvars[Kaltura.addCrossoriginToIframe]=true&amp;flashvars[EmbedPlayer.NotPlayableDownloadLink]=true;&wid=1_abkvs1gz"allowfullscreen webkitallowfullscreen mozAllowFullScreen allow="autoplay *; fullscreen *; encrypted-media *" sandbox="allow-forms allow-same-origin allow-scripts allow-top-navigation allow-pointer-lock allow-popups allow-modals allow-orientation-lock allow-popups-to-escape-sandbox allow-presentation allow-top-navigation-by-user-activation" frameborder="0" title="Kaltura Player">
  </iframe>
</center><p>I've got an AnimationView SwiftUI view on screen, along with some properties I'll need while demoing the various animations.</p><pre><code><span class="keyword">struct</span> AnimationsView: <span class="type">View</span> {

  <span class="keyword">@State var</span> buttonPosition = <span class="type">CGPoint</span>(x: <span class="number">150</span>, y: <span class="number">50</span>)
  <span class="keyword">@State var</span> buttonPosition2 = <span class="type">CGPoint</span>(x: <span class="number">150</span>, y: <span class="number">75</span>)
  <span class="keyword">@State var</span> zoom = <span class="keyword">false
  @State var</span> animationAmount: <span class="type">CGFloat</span> = <span class="number">1.0</span>
  <span class="keyword">@State var</span> showStatus = <span class="keyword">false
  @State var</span> scaleAmount: <span class="type">CGFloat</span> = <span class="number">1</span>
  
  <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> {
    <span class="type">VStack</span> {
    
    }
  }
}
</code></pre><p>Let's add some different views to the VStack to animate them. Start with a Button to demonstrate an implicit animation, which will update the location of the button.</p><pre><code><span class="type">Button</span>(<span class="string">"Press to move (implicit)"</span>) {
  <span class="keyword">self</span>.<span class="property">buttonPosition</span> = <span class="type">CGPoint</span>(x: <span class="number">175</span>, y: <span class="number">55</span>)
}.<span class="call">position</span>(buttonPosition)
</code></pre><p>Run this in the simulator. You'll see that the button moves all on its own when the button is tapped.</p><p>Now let's try a button that will change the scale of the button with an <code>animation</code> modifier</p><pre><code><span class="type">Button</span>(<span class="string">"Press to scale (animation)"</span>) {
  <span class="keyword">self</span>.<span class="property">scaleAmount</span> += <span class="number">1</span>
}
.<span class="call">scaleEffect</span>(scaleAmount)
.<span class="call">animation</span>(.<span class="call">easeIn</span>(duration: <span class="number">2.0</span>))
</code></pre><p>Run this in the simulator. This animation is much smoother than the translation we looked at before, since we stretched the time of the animation over 2 seconds.</p><p>Now add a button that changes position again, but this time use an explicit animation using <code>withAnimation</code>.</p><pre><code><span class="type">Button</span>(<span class="string">"Press to move (explicit)"</span>) {
  <span class="call">withAnimation</span>(.<span class="call">easeInOut</span>(duration: <span class="number">3.0</span>)){
    <span class="keyword">self</span>.<span class="property">buttonPosition2</span> = <span class="type">CGPoint</span>(x: <span class="number">175</span>, y: <span class="number">75</span>)
  }
}.<span class="call">position</span>(buttonPosition2)
</code></pre><p>Run this in the simulator. Again, we've stretched out the time over which this animation takes place, and have also specified the style of animation, <code>easeInOut</code> to customize it.</p><p>Don't forget that effects can use implicit animations as well, assuming they depend on a <code>@State</code> property that changes. Add a button that will scale implicitly when a state property changes.</p><pre><code><span class="type">Button</span>(<span class="string">"Press to scale (implicit)"</span>) {
  <span class="keyword">self</span>.<span class="property">zoom</span>.<span class="call">toggle</span>()
}.<span class="call">scaleEffect</span>(zoom ? <span class="number">2.0</span> : <span class="number">1.0</span>)
</code></pre><p>Now let's look at animating multiple effects. Make a red rectangle that is 150 by 150 pixels big, and add <code>scaleEffect</code> and <code>opacity</code> modifiers that are dependent on a <code>@State</code> property - <code>animationAmount</code></p><pre><code><span class="type">Rectangle</span>().<span class="call">fill</span>(<span class="type">Color</span>.<span class="property">red</span>).<span class="call">frame</span>(width: <span class="number">150</span>, height: <span class="number">150</span>)
  .<span class="call">scaleEffect</span>(<span class="number">2.0</span> - animationAmount)
  .<span class="call">opacity</span>(<span class="type">Double</span>(<span class="number">2</span> - animationAmount))
</code></pre><p>Inside an <code>onTapGesture</code> modifier - which lets you specify what happens when a user taps on that view - increase the <code>animationAmount</code> to 2, but wrap that change within a <code>withAnimation</code> block, using a <code>easeInOut</code> animation of duration 2. After that, add on a <code>repeatForever</code> modifier that will keep the animation going, <em>and</em> automatically reverse it.</p><pre><code>   .<span class="call">onTapGesture</span> {
    <span class="call">withAnimation</span>(<span class="type">Animation</span>.<span class="call">easeInOut</span>(duration: <span class="number">2.0</span>).<span class="call">repeatForever</span>(autoreverses: <span class="keyword">true</span>)){
      <span class="keyword">self</span>.<span class="property">animationAmount</span> = <span class="number">2</span>
    }
   
  }
</code></pre><p>Run this in the simulator. When tapped, the opacity and scale of the view is animated, <em>and</em> it reverses the animation when it is done, returns it to normal, and then repeats that animation cycle forever.</p><p>Lastly, let's look at a view transition. Add a button that will toggle the <code>showStatus</code> boolean property, and wrap it in a <code>withAnimation</code> block.</p><pre><code><span class="type">Button</span>(<span class="string">"Enable Status Text"</span>) {
  <span class="call">withAnimation</span>(.<span class="call">easeInOut</span>(duration: <span class="number">1.0</span>)){
    <span class="keyword">self</span>.<span class="property">showStatus</span>.<span class="call">toggle</span>()
  }
}
<span class="type">Spacer</span>()
</code></pre><p>Now add a new <code>Text</code> view but make it conditional on the value of <code>showStatus</code>. For the <code>Text</code> view, add a <code>.transition</code> modifier that will cause the view to move in from the leading edge.</p><pre><code><span class="keyword">if</span> (showStatus) {
  <span class="type">Text</span>(<span class="string">"Status Area."</span>)
    .<span class="call">transition</span>(.<span class="call">move</span>(edge: .<span class="dotAccess">leading</span>))
}
<span class="type">Spacer</span>()
</code></pre><p>Run this in the simulator, tap the "Enable Status Text" button, and watch the view slide in from the left <em>and</em> the other views get animated up to give the Status Area the chance to coexist in the view along with the others on screen.</p><p>SwiftUI's animation modifiers, with its many variations, allow you a fine level of control over animating views in your app.</p><p>If you have any questions about the examples in this video, please post them in the forums.</p><p style="float: left">Previous:  <A HREF="../01-IntroductionToAnimations/index.html">Introduction to Animations</A></p><p style="float: right">Next:  <A HREF="../03-IntroductionToGestures/index.html" class="nextModule">Introduction to Gestures</A></p></div><footer><p>Generated with ❤️ using <a href="https://github.com/johnsundell/publish">Publish</a></p><p>© 2023-2024 Josh Steele (rsteele3@jhu.edu) <a href="mailto:"(rsteele3@jhu.edu)""></a></p><p>Last updated January 21, 2024 at 1:48 PM</p><p><a href="https://mastodon.social/@hococoder" target="_blank">My Mastodon</a> | <a href="https://github.com/hococoder" target="_blank">My GitHub</a> | <a href="https://ep.jhu.edu" target="_blank">Whiting School EPP</a> | <a href="https://canvas.jhu.edu" target="_blank">JHU Canvas</a></p></footer></body></html>